Services
========

To create a new service on one of your node, you just have to add it in the Services menu and it will be automatically deployed.

.. image:: images/gettingstarted-services.png

The important fields are :

- The environment, which define which users can access to this services. It also define the prefix used by the container which will be deployed.

- The service suffix. You can only use here lowercase, digit and hyphen.

- The application which will be deployed in this service, the node where it will be deployed and the image which will be used. When you change the application, it will update most of the fields with the infos from applications and images.

- The volume_from this service shall inherit. When the service is deployed, it will search for all other children with the tag specified here and attached all their volumes to this service.

- The number of containers which shall be deployed by this service. Use the scale command for Docker Swarm mode.

- Check the public checkbox if you want all users of the Clouder to be able to use this container. Otherwise, a user can only access a container if he is the manager of this container (or an administrator).

- Check the dummy checkbox is this service shall not deploy any container, even without children.

- Specify the provider is this services shall be deployed in the cloud with libcloud.

.. image:: images/service-form.png

See the `Images <images.html>`_ and `Applications <applications.html>`_ chapters for more informations about options, ports, volumes, links and childs.

When you save the new services :

- If any childs, the childs will be deployed and create subservices. No container will be created for the parent service.

- The command to create the new container will be launched on the target server

- The ports and volumes will be configured,

- The commands post creation will finish to configure the container

- The links will be deployed.

You can check all the executed command in the log.

.. image:: images/service-log.png

If something went wrong, you can use the reinstall button to purge and reinstall the container. You can also also use the restart/stop buttons to restart the container.

You can also easily create a subservice by indicating the name of the subservice and clicking on Install subservice. This will create the subservice with the same files, link it to the current service, and duplicate all the base linked to the current service.

.. image:: images/service-reset.png

Finally, you can configure in the save tab the backup container where the backup will be stored. The repository will be automatically created if needed, see the `Applications <applications.html>`_ chapter for more informations about the others fields
You can use the Backup checkbox if you want to auto backup this service each day.
You can use the Backup button to force a manual backup, use the comment field if you want to easily find this backup later. Note that all saves update the next save date field.

.. image:: images/service-backup.png

